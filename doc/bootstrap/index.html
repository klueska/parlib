<!DOCTYPE html><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Parlib: Easing Cross-Platform Development of Next Generation Parallel Systems</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="./assets/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        line-height: 1.2em;
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .page-header {
        padding-top: 40px;
        margin-top: -40px;
      }
    </style>
    <link href="./assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="./assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-57-precomposed.png">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38088937-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Parlib</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#downloads">Download</a></li>
              <li><a href="#testing">Testing</a></li>
              <li><a href="#api-reference">API Reference</a></li>
              <li><a href="#scheduler-ports">Scheduler Ports</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <!-- Main hero unit for a primary marketing message or call to action -->
      <div class="hero-unit">
        <h1>
          <img style="margin-bottom:-25px;" src="./assets/img/logo.png" alt="Parlib"/>
        </h1>
        <p>Easing Cross-Platform Development of Next Generation Parallel Systems</p>
        <a href="https://github.com/klueska/parlib/" class="btn btn-primary btn-large" >View Linux ports on GitHub</a>
        <a href="https://github.com/brho/akaros/tree/master/user/parlib" class="btn btn-primary btn-large" >View Akaros ports on GitHub</a>
      </div>

      <section id="about">
      <div class="page-header"><h1>About Parlib</h1></div>
	  <p> 
		Parlib has been designed in conjunction with the <a
        href="http://akaros.cs.berkeley.edu">Akaros OS</a> project in the <a
		href="http://amplab.cs.berkeley.edu">AMP Lab</a> at UC Berkeley.  It
		defines a set of low-level interfaces for helping build highly parallel
		systems across multiple operating systems and varying hardware
		platforms. Ports currently exist for Linux/i686, Linux/x86_64,
		Akaros/i686, and Akaros/RISC-V.
      </p>
      <p>
		The most common use case of Parlib is to build custom user-level
		schedulers, such as <a
        href="http://akaros.cs.berkley.edu/parlib/upthread">Upthread</a> or <a
        href="http://lithe.eecs.berkeley.edu">Lithe</a>.
      </p>
      <p>
		An online reference to the current Parlib API can be found <a
        href="http://klueska.github.com/parlib">here</a>.<br/>
        Mostly notably, Parlib currently provides abstractions for the following:
        <ul>
		  <li>A user-level abstraction for managing physical cores in a
              virtualized-namespace (vcores)</li>
          <li>A user-level thread abstraction (uthreads)</li>
          <li>User-space MCS locks, MCS barriers, spinlocks and spinbarriers</li>
          <li>Static and dynamic user-level thread local storage</li>
          <li>Pool and slab allocator dynamic memory management abstractions</li>
          <li>A standardized API for common atomic memory operations</li>
        </ul>
      </p>

      <section id="downloads">
      <div class="page-header"><h1>Download and Installation</h1></div>
      <p>
		Parlib is made available under the <a href="./license.html">GNU Lesser
        General Public License</a>.
      </p>
      <p>
		Its source code is currently spread across 2 different repositories,
        depending on which operating system you are building it for.
      </p>
      <div>
        <h3>Akaros</h3>
        <p>
	      The Akaros port of Parlib is contained in the user-level portion
		  of the main Akaros repository, and can be seen <a
		  href="https://github.com/brho/akaros/tree/master/user/parlib">here</a>.
        </p>
	    <p>
		  On Akaros, Parlib is a required library and is therefore built and
		  installed as part of the Akaros gcc cross-compiler (similar to the
		  way glibc is). Much like glibc, by installing and using the Akaros
		  cross compiler, you are automatically linked with Parlib without
          needing to include it as an external library.
        </p>
        <p>
          Instructions for building and running Akaros can be found <a
	      href="http://akaros.cs.berkeley.edu/akaros-web/getting_started.php">here</a>.
        </p>
      </div>
      <div>
        <h3>Linux</h3>
        <p>
          A tarball of the latest Parlib release on Linux can be found <a
          href="https://api.github.com/repos/klueska/parlib/tarball/release_1_0_0">here.</a>
        </p>
	    <p>
	      If you prefer to work directly from the development branch, we also
	      provide read-only access to our shared github repo, with a tag for the
          current release:
<pre>
git clone git://github.com/klueska/parlib.git
git checkout release_1_0_0</pre>
        </p>
	    <p>
          <span style="color:red">Note:</span>
		  The Linux version of Parlib must be configured with one of two
          options related to the use of global TLS variables
<pre>
--with-uthread-tls=no (default)
or
--with-uthread-tls=yes
</pre>
		  Choosing <code>--with-uthread-tls=no</code> will allow your
		  user-level threads to context switch <strong>four times faster
		  </strong> than a traditional Linux pthread. However, this disallows
		  any of your user-level threads (including any libraries that they
		  call) from defining global <code>__thread</code> variables and using
          them for TLS (as described <a
          href="http://gcc.gnu.org/onlinedocs/gcc-4.4.4/gcc/Thread_002dLocal.html">here</a>).
          Instead, all user-level threads will need to use the
		  <code>dtls</code> support provided by Parlib for any of their
		  thread-local storage needs. If <code>__thread</code> variables
		  <i>do</i> get defined, they are treated as <code>vcore-local</code>
          storage, but using them in this way is discouraged.
        </p>
        <p>
		  Choosing <code>--with-uthread-tls=yes</code> will allow your
		  user-level threads to define <code>__thread</code> variables, but
		  will cause your context switch times to be <strong>two times
		  slower</strong> than simply using traditional Linux pthreads. This
		  option mainly exists because future versions of Linux will support
		  the WRFSBASE instruction, causing this overhead to disappear. At that
          time, this will become the default option.
        </p>
	    <p>
		  Once you've decided which configuration option is appropriate for
		  your use case, follow the standard GNU installation procedure to
		  compile and install Parlib. If you install into a non-standard
		  location, don't forget to set your LD_LIBRARY_PATH when running
          executables that link against Parlib as a shared library.<br/>
<pre>
cd parlib
./bootstrap
mkdir build
cd build
../configure --prefix=&lt;install_dir&gt; --with-uthread-tls=&lt;yes|no&gt;
make
&lt;sudo&gt; make install</pre>
        </p>
      </div>
   
      <section id="testing">
      <div class="page-header"><h1>Testing (Linux Only)</h1></div>
	  <p> 
		A number of test applications are included with Parlib and can be
        compiled from the Parlib build directory as follows:
<pre>
cd parlib/build
make check</pre>
        The current tests are:
        <ul>
          <li>lock_test</li>
          <li>vcore_test</li>
          <li>pool_test</li>
          <li>slab_test</li>
        </ul>
		To run them, simply execute them from the current directory.<br/> 
        <span style="color:red">Note:</span>
		The <code>lock-test</code> and <code>vcore-test</code> applications run
        in an infinite loop and need to be killed with Ctrl-C.
      </p>

      <section id="api-reference">
      <div class="page-header"><h1>Parlib API Reference</h1></div>
	  <p> 
		An online reference to the current Parlib API can be found <a
        href="http://klueska.github.com/parlib">here</a>.
      </p>
	  <p> 
		A <a href="Parlib.pdf">pdf version</a> is also available for download.
      </p>
	  <p> 
		On Linux, if you installed parlib into a standard location, you should
		also be able to access the API reference via one (or both) of the
        following two commands:
<pre>
man parlib
info parlib</pre>
      </p>

      <section id="scheduler-ports">
      <div class="page-header"><h1>User-level schedulers written using Parlib</h1></div>
	  <p> 
        <ul>
		  <li><a href="http://akaros.cs.berkeley.edu/parlib/upthread">Upthread:
               A User-Level Port of Pthreads On Parlib</a></li>
		  <li><a href="http://lithe.eecs.berkeley.edu">Lithe: Enabling
              Efficient Composition of Parallel Libraries</a></li>
        </ul>
      </p>

      <section id="contact">
      <div class="page-header"><h1>Contacting the Authors</h1></div>
	  <p>
		We have created a <a
		href="http://groups.google.com/group/parlib-users">parlib-users</a>
        Google group.<br/>
        Feel free to join the list and post any questions you have there.
	  </p>
	  <p>
        <strong>Current Contributors:</strong>
        <ul>
		  <li>Kevin Klues <a href="mailto:klueska@cs.berkeley.edu">
            &lt;klueska@cs.berkeley.edu&gt; </a></li>
		  <li>Barret Rhoden <a href="mailto:brho@cs.berkeley.edu">
            &lt;brho@cs.berkeley.edu&gt; </a></li>
        </ul>
	  </p>
      <hr>

      <footer>
      <p>
        Copyright &copy; 2013 The Regents of the University of California<br/>
        All Rights Reserved
      </p>
      </footer>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./assets/js/jquery.js"></script>
    <script src="./assets/js/bootstrap-transition.js"></script>
    <script src="./assets/js/bootstrap-alert.js"></script>
    <script src="./assets/js/bootstrap-modal.js"></script>
    <script src="./assets/js/bootstrap-dropdown.js"></script>
    <script src="./assets/js/bootstrap-scrollspy.js"></script>
    <script src="./assets/js/bootstrap-tab.js"></script>
    <script src="./assets/js/bootstrap-tooltip.js"></script>
    <script src="./assets/js/bootstrap-popover.js"></script>
    <script src="./assets/js/bootstrap-button.js"></script>
    <script src="./assets/js/bootstrap-collapse.js"></script>
    <script src="./assets/js/bootstrap-carousel.js"></script>
    <script src="./assets/js/bootstrap-typeahead.js"></script>

  </body>
</html>
